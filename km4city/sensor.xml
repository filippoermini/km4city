<?xml version="1.0"?>
<tree typeId="http://www.w3.org/1999/02/22-rdf-syntax-ns#type" isStateful="true" simulationName="TrafficSimulation">
    <classIterationQuery>
    	<server>http://servicemap.disit.org/WebAppGrafo/sparql</server>
    	<query>SELECT DISTINCT ?id WHERE {?s a km4c:SensorSite. ?s dcterms:identifier ?id.filter(!strstarts(?id,"METRO"))} order by ?id limit 100</query>
    </classIterationQuery>
    <fileInfo>
    	<fileName>sensori_FIRENZE.n3</fileName>
    	<startDirectory>./</startDirectory>
    </fileInfo>
    <class type="http://www.disit.org/km4city/schema#SensorSite" name="SensorSite" isRoot="true" baseUri="http://www.disit.org/km4city/resource">
        <properties>
            <prop key="http://purl.org/dc/terms/identifier">
                <type>id</type>
            </prop>
            <prop key="http://www.disit.org/km4city/schema#hasObservation">
                <type>Observation</type>
                <uri>http://www.disit.org/km4city/schema#Observation</uri>
            </prop>
        </properties>
    </class>
    <class type="http://www.disit.org/km4city/schema#Observation" name="Observation" isRoot="false" baseUri="http://www.disit.org/km4city/resource{+$SensorSite}">
        <properties>
            <prop key="http://purl.org/dc/terms/identifier">
                <type>UID</type>
            </prop>
            <prop key="http://purl.org/dc/terms/date">
                <type>DateTime</type>
                <uri>http://www.w3.org/2001/XMLSchema#dateTime{$SensorSite}</uri>
            </prop>
            <prop key="http://www.disit.org/km4city/schema#averageSpeed">
                <type>Float</type>
                <maxValue>3</maxValue>
                <minValue>2</minValue>
                <uri>http://www.w3.org/2001/XMLSchema#float</uri>
            </prop>
            <prop key="http://www.disit.org/km4city/schema#vehicleFlow">
                <type>Float</type>
                <valueExpression>$concentration * $averageSpeed </valueExpression>
                <uri>http://www.w3.org/2001/XMLSchema#float</uri>
            </prop>
            <prop key="http://www.disit.org/km4city/schema#concentration">
                <type>FromSet</type>
                <fromSet>50</fromSet>
                <uri>http://www.w3.org/2001/XMLSchema#float</uri>
            </prop>
            <prop key="http://www.disit.org/km4city/schema#measuredTime">
                <type>Instant</type>
                <uri>http://www.w3.org/2006/time#Instant</uri>
            </prop>
            <prop key="http://www.disit.org/km4city/schema#measuredBySensor">
                <type>SensorSite</type>
                <uri>http://www.disit.org/km4city/schema#SensorSite</uri>
            </prop>
        </properties>
    </class>
    <class type="http://www.w3.org/2006/time#Instant" isRoot="false" name="Instant" baseUri="http://www.disit.org/km4city/resource">
        <properties>
            <prop key="http://purl.org/dc/terms/identifier">
                <type>DateTime</type>
                <uri>http://www.w3.org/2001/XMLSchema#dateTime</uri>
            </prop>    
            <prop key="http://www.disit.org/km4city/schema#instantObserv">
                <type>Observation</type>
                <uri>http://www.disit.org/km4city/schema#Observation</uri>
            </prop>
        </properties>
    </class>
</tree>